<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Suchergebnisse</title>
    <style>
        body { font-family: Arial, sans-serif; margin:20px; background-color:#f0f0f5; }
        header { background-color:#333; color:white; padding:20px; text-align:center; }
        h1 { text-align:center; }
        ul { list-style-type:none; padding:0; max-width:600px; margin:auto; }
        li { background-color:white; margin:10px 0; padding:15px; border-radius:8px; cursor:pointer; box-shadow:0 0 5px rgba(0,0,0,0.1); }
        li:hover { background-color:#e0e0ff; }
    </style>
</head>
<body>
    <header>
        <h1>Suchergebnisse</h1>
    </header>

    <ul id="results"></ul>

    <script>
        const params = new URLSearchParams(window.location.search);
        const marke = params.get('marke');
        const modell = params.get('modell');
        const baujahr = params.get('baujahr');
        const kraftstoff = params.get('kraftstoff');

        fetch('autos.json')
            .then(response => response.json())
            .then(autos => {
                const filtered = autos.filter(auto => {
                    return (!marke || auto.marke.toLowerCase().includes(marke.toLowerCase()))
                        && (!modell || auto.modell.toLowerCase().includes(modell.toLowerCase()))
                        && (!baujahr || auto.baujahr == baujahr)
                        && (!kraftstoff || auto.kraftstoff && auto.kraftstoff.toLowerCase().includes(kraftstoff.toLowerCase()));
                });

                const ul = document.getElementById('results');
                filtered.forEach(auto => {
                    const li = document.createElement('li');
                    li.textContent = `${auto.marke} ${auto.modell} (${auto.baujahr})`;
                    li.onclick = () => {
                        window.location.href = 'details.html?id=' + auto.id;
                    };
                    ul.appendChild(li);
                });

                if(filtered.length === 0) {
                    ul.innerHTML = '<li>Keine Autos gefunden</li>';
                }
            });
    </script>
</body>
</html>
