<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Autodetails</title>
<style>
body { font-family: Arial, sans-serif; margin:20px; background-color:#f0f0f5; }
header { background-color:#333; color:white; padding:20px; text-align:center; }
.container { max-width:800px; margin:auto; background-color:white; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
.back { display:block; margin:20px auto; padding:10px 20px; cursor:pointer; }
.category { margin-bottom:20px; }
.category h2 { background-color:#e0e0ff; padding:10px; border-radius:5px; }
.details-grid { display:grid; grid-template-columns: 1fr 2fr; gap:10px; margin-top:10px; }
.details-grid div { padding:5px 0; }
.image-container { text-align:center; margin-bottom:20px; }
.image-container img { max-width:100%; height:auto; border-radius:8px; }
</style>
</head>
<body>
<header>
    <h1>Autodetails</h1>
</header>

<div class="container">
    <div class="image-container">
        <img id="autoBild" src="" alt="Auto Bild" />
    </div>

    <!-- Basisdaten -->
    <div class="category">
        <h2>Basisdaten</h2>
        <div class="details-grid">
            <div>Marke:</div><div id="marke"></div>
            <div>Modell:</div><div id="modell"></div>
            <div>Baujahr:</div><div id="baujahr"></div>
            <div>Kraftstoff:</div><div id="kraftstoff"></div>
        </div>
    </div>

    <!-- Karosserie -->
    <div class="category">
        <h2>Karosserie</h2>
        <div class="details-grid">
            <div>Länge:</div><div id="laenge"></div>
            <div>Breite:</div><div id="breite"></div>
            <div>Höhe:</div><div id="hoehe"></div>
            <div>Gewicht:</div><div id="gewicht"></div>
        </div>
    </div>

    <!-- Motor -->
    <div class="category">
        <h2>Motor</h2>
        <div class="details-grid">
            <div>PS:</div><div id="ps"></div>
            <div>Hubraum:</div><div id="hubraum"></div>
            <div>Verbrauch:</div><div id="verbrauch"></div>
            <div>Motorart:</div><div id="motorart"></div>
        </div>
    </div>

    <!-- Getriebe -->
    <div class="category">
        <h2>Getriebe</h2>
        <div class="details-grid">
            <div>Getriebeart:</div><div id="getriebeart"></div>
            <div>Gänge:</div><div id="gaenge"></div>
        </div>
    </div>

    <!-- Extras -->
    <div class="category">
        <h2>Extras</h2>
        <div class="details-grid">
            <div>Besonderheiten:</div><div id="extras"></div>
        </div>
    </div>

    <button class="back" onclick="window.history.back()">Zurück</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const autoId = params.get('id');

    fetch('autos.json')
        .then(response => response.json())
        .then(autos => {
            const auto = autos.find(a => a.id == autoId);
            if (!auto) {
                alert("Auto nicht gefunden");
                return;
            }

            // Basisdaten
            document.getElementById('marke').textContent = auto.marke || '-';
            document.getElementById('modell').textContent = auto.modell || '-';
            document.getElementById('baujahr').textContent = auto.baujahr || '-';
            document.getElementById('kraftstoff').textContent = auto.kraftstoff || '-';

            // Karosserie
            document.getElementById('laenge').textContent = auto.laenge || '-';
            document.getElementById('breite').textContent = auto.breite || '-';
            document.getElementById('hoehe').textContent = auto.hoehe || '-';
            document.getElementById('gewicht').textContent = auto.gewicht || '-';

            // Motor
            document.getElementById('ps').textContent = auto.ps || '-';
            document.getElementById('hubraum').textContent = auto.hubraum || '-';
            document.getElementById('verbrauch').textContent = auto.verbrauch || '-';
            document.getElementById('motorart').textContent = auto.motorart || '-';

            // Getriebe
            document.getElementById('getriebeart').textContent = auto.getriebeart || '-';
            document.getElementById('gaenge').textContent = auto.gaenge || '-';

            // Extras
            document.getElementById('extras').textContent = auto.extras || '-';

            // Bild
            const bild = document.getElementById('autoBild');
            if (auto.bild) {
                bild.src = auto.bild;
                bild.alt = `${auto.marke} ${auto.modell}`;
            } else {
                bild.src = 'placeholder.jpg';
                bild.alt = 'Kein Bild vorhanden';
            }
        })
        .catch(err => console.error("Fehler beim Laden von autos.json:", err));
});
</script>
</body>
</html>
