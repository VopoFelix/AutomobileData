<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Car Details</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:20px; }
    .card { background:#fff; border:1px solid #ddd; border-radius:10px; padding:20px; width:300px; margin:auto; }
    h2 { text-align:center; }
    .section { margin-top:15px; }
    .section h3 { margin:0 0 5px; border-bottom:1px solid #ddd; }
    button { margin-top:20px; padding:8px 16px; border:none; background:#333; color:#fff; border-radius:5px; cursor:pointer; }
    button:hover { background:#555; }
  </style>
</head>
<body>
  <div class="card" id="details"></div>
  <div style="text-align:center;">
    <button onclick="goBack()">Back</button>
  </div>

  <script>
    async function loadCars(brand) {
      const res = await fetch(`cars/${brand.toLowerCase()}.json`);
      return await res.json();
    }

    function getParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        id: params.get("id"),
        brand: params.get("brand")
      };
    }

    function displayDetails(car) {
      const div = document.getElementById("details");
      div.innerHTML = `
        <h2>${car.brand} ${car.model}</h2>
        <div class="section">
          <h3>Body</h3>
          <p>Year: ${car.year}</p>
        </div>
        <div class="section">
          <h3>Engine</h3>
          <p>Fuel: ${car.fuel}</p>
          <p>Horsepower: ${car.horsepower}</p>
        </div>
      `;
    }

    function goBack() {
      window.history.back();
    }

    (async function init() {
      const { id, brand } = getParams();
      const cars = await loadCars(brand);
      const car = cars.find(c => c.id == id);
      displayDetails(car);
    })();
  </script>
</body>
</html>
